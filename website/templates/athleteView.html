{% extends "base.html" %}


{% block content %}

<h1>{{ athlete.first_name }} {{ athlete.last_name }}</h1>
</br>

<!-- Top Row -->
<div class="row">

    <!-- Readiness Chart -->
  <div class="col-sm-6 grid-margin">
    <div class="card">
      <div class="card-body">
        <h5 class="text-success {{'text-danger' if watchData[1][4]<80}}">Readiness</h5>
        <div class="row">
          <div class="col-8 col-sm-12 col-xl-6 my-auto">
            <div class="d-flex d-sm-block d-md-flex align-items-center">
              <h4 class="mb-0">{{watchData[1][4]}}%</h4>
              <!--<p class="text-success ml-2 mb-0 font-weight-medium">+3.5%</p>-->
            </div>
            
          </div>
          <div class="col-4 col-sm-12 col-xl-12 text-center text-xl-right">
             <canvas id=readyChart width="500" height="500"></canvas>
              
            
          </div>
            <div class="bg-gray-dark d-flex d-md-block d-xl-flex flex-row py-3 px-4 px-md-3 px-xl-4 rounded mt-3">
          <div class="text-md-center text-xl-left">
            <h6 class="mb-1">Readiness is Increasing</h6>
            <p class="text-muted mb-0">Athlete may be able to handle harder workouts</p>
          </div>
        
        </div>
        </div>
        
          
      </div>
    </div>
  </div>
  
  <div class="col-sm-3 grid-margin">
      
    <!-- Sleep chart -->
    <div class="card">
      <div class="card-body">
        <h5 class="text-success {{'text-danger' if watchData[2][4]<8}}">Sleep</h5>
        <div class="row">
          <div class="col-8 col-sm-12 col-xl-12 my-auto">
            <div class="d-flex d-sm-block d-md-flex align-items-center">
              <h4 class="mb-0">{{watchData[2][4]}}h</h4>
              <!--<p class="text-success ml-2 mb-0 font-weight-medium">+0.3%</p>-->
            </div>
              <br>
              <canvas id=sleepChart width="500" height="500"></canvas>
              
          </div>
          <div class="col-4 col-sm-12 col-xl-4 text-center text-xl-right">
        
          </div>
        </div>
      </div>
    </div>

    <!-- Quality chart -->
      <div class='row'></div>
<br>
      <div class="card">
    <div class="card-body">
        <h5 class="text-success {{'text-danger' if watchData[9][4]<80}}">Sleep Score</h5>
        <div class="row">
          <div class="col-8 col-sm-12 col-xl-12 my-auto">
            <div class="d-flex d-sm-block d-md-flex align-items-center">
              <h4 class="mb-0">{{watchData[9][4]}}%</h4>
              <!--<p class="text-danger ml-2 mb-0 font-weight-medium">-2.1% </p>-->
            </div>
              <br>
                  </div>
              </div>
        <canvas id="recChart" width="500" height="500"></canvas>
       
      </div>
      </div>
  </div>
  <div class="col-sm-3 grid-margin">
    <div class="card">
      <div class="card-body">

        <!-- Caloroes chart -->
        <h5 class="text-success {{'text-danger' if watchData[8][4]<10000}}">Steps</h5>
        <div class="row">
          <div class="col-8 col-sm-12 col-xl-12 my-auto">
            <div class="d-flex d-sm-block d-md-flex align-items-center">
              <h4 class="mb-0">{{watchData[8][4]}}/10,000</h4>
              <!--<p class="text-danger ml-2 mb-0 font-weight-medium">-2.1% </p>-->
            </div>
              <br>
            
              <canvas id="stepChart" width="500" height="500"></canvas>
          
              
          </div>
          
        </div>
      </div>
    </div>
      <br>

      <!-- HR chart -->
      <div class="card">
          <div class="card-body">
              <h6 class="text-success {{'text-danger' if watchData[6][4]>75}}">Resting Heart Rate</h6>
              <div class="row">
          <div class="col-8 col-sm-12 col-xl-12 my-auto">
            <div class="d-flex d-sm-block d-md-flex align-items-center">
              <h4 class="mb-0">{{watchData[6][4]}}</h4>
              <!--<p class="text-danger ml-2 mb-0 font-weight-medium">-2.1% </p>-->
            </div>
              <br>
                  </div>
              </div>
              <canvas id="hrChart" width="500" height="500"></canvas>
          
          </div>
          
      </div>
  </div>
      
</div>



<div class="row ">
    <div class="col-md-6 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
          <div class="row">
          <div class="col-8 col-sm-12 col-xl-12 my-auto">
            <div class="d-flex d-sm-block d-md-flex align-items-center">
              <h4 class="mb-0 text-danger">{{ athlete.first_name }} {{ athlete.last_name }}</h4>
            </div>
              
                  </div>
              </div>
        
        
        <div class="bg-gray-dark d-flex d-md-block d-xl-flex flex-row py-3 px-4 px-md-3 px-xl-4 rounded mt-3">
          <div class="text-md-center text-xl-left">
            <h6 class="mb-1">Notes</h6>
            {%for note in athlete.peakNotes%}
            <p class="text-muted mb-0"> {{note.content}}</p>
            {%endfor%}
            

          </div>
          
        </div>
          <br>
          <canvas id="trendsplayer" width="200" height="150"></canvas>
          
      </div>
    </div>
  </div>

  <div class="col-md-6 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
          <h5>Sleep Trends</h5>
          <div class="row">
      <div class="col-8 col-sm-12 col-xl-12 my-auto">
        <div class="d-flex d-sm-block d-md-flex align-items-center">
          
        </div>
          <br>
              </div>
          </div>
          <canvas id="trends2" width="200" height="150"></canvas>
          
      </div>
      
  </div>

    
  </div>
  
</div>

<div class="row">
  <div class="card">
    <div class="card-body">
      <a class="btn btn-primary btn-block" href="{{url_for('static', filename='assets/testdata/hawkins.csv')}}" download>Download Hawkins data</a>
      <br>
      <a class="btn btn-primary btn-block" href="{{url_for('static', filename='assets/testdata/watchData.csv')}}" download>Download watch data</a>
    </div>
  </div>

</div>


{% endblock %}